---
title: 核心概念速览：用积木理解 ComfyUI
description: 把节点、工作流、Checkpoint、LoRA、VAE 看成可拼接的功能积木，建立清晰的心智模型。
order: 1
heroImage: /assets/images/core-concepts-map.svg
keywords:
  - 节点
  - 工作流
  - 模型管理
  - LoRA
  - VAE
goal: 10 分钟掌握 ComfyUI 的核心构件与协作关系
duration: 10 分钟
difficulty: 零基础
prerequisites:
  - 已成功打开 ComfyUI 画布
  - 知道如何添加与连线节点
deliverables:
  - 清楚区分节点输入输出类型
  - 能够解释一条基础工作流的结构
pitfalls:
  - 只记节点名字，不理解数据类型
  - 忽略 VAE 导致导出图片灰度异常
  - 误将 LoRA 当作模型替换而非叠加
---

import AnnotatedImage from "../../components/mdx/AnnotatedImage.astro";
import TipCard from "../../components/mdx/TipCard.astro";

## 章节导言

一条稳固的工作流始于正确的认知框架。本节不上来就告诉你“怎么连”，而是拆解“为什么这样连”。把 ComfyUI 想象成一盒功能积木：节点决定能力，连线决定顺序，模型资产决定结果风格。只要理解这些角色的协作逻辑，后续任何复杂工作流都是模块重组而已。

<AnnotatedImage
  src="/assets/images/core-concepts-map.svg"
  alt="ComfyUI 核心概念导图"
  caption="五大构件沿着“输入→运算→输出”的链路排布，每个模块只承担单一职责"
  hotspots={[
    { x: "8%", y: "14%", width: "24%", height: "24%", label: "节点", note: "每一个节点都是独立的功能单位，负责完成一件具体工作。" },
    { x: "38%", y: "14%", width: "24%", height: "24%", label: "工作流", note: "节点通过连线形成执行顺序，线条表示数据的流动方向。" },
    { x: "68%", y: "14%", width: "24%", height: "24%", label: "Checkpoint", note: "大模型像画风底座，决定整体输出方向。" },
    { x: "22%", y: "46%", width: "24%", height: "24%", label: "LoRA", note: "附加风格插件，叠加在模型之上细调人物、质感与构图。" },
    { x: "52%", y: "46%", width: "24%", height: "24%", label: "VAE", note: "负责把潜空间解码为真正的 RGB 像素。" }
  ]}
/>

## 记住这五句心法

1. **节点 Node**：一件事、一个输入输出约定，毫不含糊。
2. **工作流 Workflow**：有向图写成的操作剧本，线条表示数据流动方向。
3. **Checkpoint**：画风基底，换了它等于换了整个画面语言。
4. **LoRA**：风格叠加器，覆盖在模型之上细调人物、质感与构图。
5. **VAE**：色彩翻译官，不解码就看不到真正的成品。

<TipCard title="端口类型必须一一匹配" tone="info">
  <p>ComfyUI 不会阻止你乱连线，但它会在执行时报错。辨认端口旁的标签，例如 <code>MODEL</code>、<code>CONDITIONING</code>，只有类型一致才能传输数据。悬停时的高亮提示就是系统在告诉你“这里能插”。</p>
</TipCard>

## 节点家族的三种输出

- **数据类**：LATENT、CONDITIONING、IMAGE 分别代表潜空间、文本特征与最终像素。
- **控制类**：MODEL、VAE、CLIP 属于权重或编码器引用，告诉下游该用哪份模型。
- **行为类**：例如 SaveImage，没有输出端口但会触发文件写入。

掌握这些分类后，你会知道“这一条线送出去的到底是什么”，也能避免错把控制信号当作可见图像。

## 两条不容忽视的连接规则

1. **采样必备闭环**：Checkpoint Loader 给出的 MODEL 与 CLIP 必须同时进入 KSampler，再配上 Empty Latent Image，缺一不可。
2. **所有图片都要过 VAE**：只要想输出 PNG/JPEG，就得让潜空间走一趟 VAEDecode，否则只能得到一堆噪声矩阵。

<TipCard title="最常见的连线错误" tone="warning">
  <p>新手经常遗漏 Empty Latent Image 或忘记把 VAE 接回 VAEDecode，导致生成阶段直接报 <em>missing input</em>。保持“采样闭环 + 解码闭环”的意识，任何工作流都跑得通。</p>
</TipCard>

## 评估一个工作流是否值得复用

- **节点是否为原生**：只要没有出现 Script/Custom 节点，大概率无需额外安装插件。
- **模型路径是否可用**：留意作者的路径是否和你相同，不存在就换成自己的模型文件名。
- **参数是否合理**：像采样步数、CFG、噪声调度器都写在 KSampler 里。换模型时记得同步检查这些值。

具备这份概念地图后，再看社区分享的复杂工作流，你能迅速判断“哪些节点是拿来就用，哪些节点必须替换”。这就是建立产品直觉的第一步。