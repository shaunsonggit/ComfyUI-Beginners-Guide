---
import { withBase } from "../utils/paths";

interface Props {
  imageSrc?: string;
  title?: string;
  description?: string;
  helperText?: string;
}

const {
  imageSrc,
  title = "加入群聊",
  description = "扫码添加 Nuash",
  helperText = "备注 \"加群\"。",
} = Astro.props as Props;

const resolvedImageSrc = withBase(imageSrc ?? "/assets/uploads/join-chat-qr.png");
---
<section class="rounded-xl border border-primary/20 bg-muted-light p-4 text-sm text-slate-600 shadow-sm dark:border-primary/40 dark:bg-muted-dark dark:text-slate-200">
  <h3 class="text-base font-semibold text-primary dark:text-primary-light">{title}</h3>
  <p class="mt-1 leading-relaxed">{description}</p>
  <img
    class="mt-4 w-full rounded-lg border border-slate-200 bg-white dark:border-slate-700 dark:bg-surface-dark"
    src={resolvedImageSrc}
    alt="扫码加入 ComfyUI 交流群"
    loading="lazy"
    decoding="async"
  />
  <p class="mt-3 text-xs text-slate-400 dark:text-slate-500">{helperText}</p>
</section>
